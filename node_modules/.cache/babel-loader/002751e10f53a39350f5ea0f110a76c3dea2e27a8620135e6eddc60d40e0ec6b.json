{"ast":null,"code":"var _jsxFileName = \"/Users/jaewoo/Desktop/Ministry/IT Business/Document/E-Book Reader/Lumina Press/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useMemo, useEffect } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { PUBLISHER_DATA } from './constants';\nimport LibraryView from './components/LibraryView';\nimport ReaderView from './components/ReaderView';\nimport EpubReaderView from './components/EpubReaderView';\nimport LoginView from './components/LoginView';\nimport PurchaseModal from './components/PurchaseModal';\nimport { ThemeProvider, useTheme } from './contexts/ThemeContext';\nimport useLocalStorage from './hooks/useLocalStorage';\nimport { priceToNumber } from './utils/currency';\n\n// Dummy user object for simulation\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DUMMY_USER = {\n  name: 'Alex Doe',\n  email: 'alex.doe@example.com'\n};\nconst ThemedApp = () => {\n  _s();\n  const {\n    theme\n  } = useTheme();\n  useEffect(() => {\n    const root = document.documentElement;\n    Object.entries(theme.colors.primary).forEach(([key, value]) => {\n      root.style.setProperty(`--color-primary-${key}`, value);\n    });\n    Object.entries(theme.colors.secondary).forEach(([key, value]) => {\n      root.style.setProperty(`--color-secondary-${key}`, value);\n    });\n  }, [theme]);\n  const currentPublisherData = useMemo(() => PUBLISHER_DATA[theme.key], [theme.key]);\n  const initialPurchasedBookId = useMemo(() => {\n    var _currentPublisherData;\n    return (_currentPublisherData = currentPublisherData.books.find(b => b.price === '$0.00')) === null || _currentPublisherData === void 0 ? void 0 : _currentPublisherData.id;\n  }, [currentPublisherData]);\n  const [userBooks, setUserBooks] = useLocalStorage(`user-uploaded-books-${theme.key}`, []);\n  const [purchasedBookIds, setPurchasedBookIds] = useLocalStorage(`purchased-book-ids-${theme.key}`, [initialPurchasedBookId].filter(Boolean));\n  const [userPoints, setUserPoints] = useLocalStorage('user-points', 2.50); // Global points\n  const [gifts, setGifts] = useLocalStorage('user-gifts', []); // Global gifts\n  const [pushedNotificationIds, setPushedNotificationIds] = useLocalStorage('pushed-notification-ids', []);\n  const [selectedBook, setSelectedBook] = useState(null);\n  const [user, setUser] = useState(null);\n  const [purchaseModalState, setPurchaseModalState] = useState({\n    isOpen: false,\n    book: null\n  });\n  const libraryBooks = useMemo(() => {\n    const purchasedPublisherBooks = currentPublisherData.books.filter(book => purchasedBookIds.includes(book.id));\n    return [...userBooks, ...purchasedPublisherBooks].sort((a, b) => a.title.localeCompare(b.title));\n  }, [userBooks, purchasedBookIds, currentPublisherData]);\n  const storeBooks = useMemo(() => {\n    return currentPublisherData.books.filter(book => !purchasedBookIds.includes(book.id));\n  }, [purchasedBookIds, currentPublisherData]);\n  useEffect(() => {\n    if (user && 'Notification' in window && Notification.permission === 'granted') {\n      const newPushAnnouncements = currentPublisherData.announcements.filter(a => a.requiresPush && !pushedNotificationIds.includes(a.id));\n      if (newPushAnnouncements.length > 0) {\n        // To avoid being spammy, we'll show one notification on load for the first new announcement\n        // but mark all new ones as \"pushed\".\n        const firstNewAnnouncement = newPushAnnouncements[0];\n        const notification = new Notification(firstNewAnnouncement.title, {\n          body: firstNewAnnouncement.message,\n          icon: 'https://picsum.photos/seed/luminaicon/192/192',\n          // A generic icon for simulation\n          tag: firstNewAnnouncement.id // Tag prevents duplicate notifications for the same announcement\n        });\n        notification.onclick = () => {\n          window.focus();\n        };\n        setPushedNotificationIds(prev => [...prev, ...newPushAnnouncements.map(a => a.id)]);\n      }\n    }\n  }, [user, pushedNotificationIds, setPushedNotificationIds, currentPublisherData]);\n  const handleSelectBook = book => {\n    setSelectedBook(book);\n  };\n  const handleBackToLibrary = () => {\n    setSelectedBook(null);\n  };\n  const handleBookUploaded = newBook => {\n    setUserBooks(prevBooks => [newBook, ...prevBooks]);\n  };\n  const handleInitiatePurchase = book => {\n    setPurchaseModalState({\n      isOpen: true,\n      book\n    });\n  };\n  const handleClosePurchaseModal = () => {\n    setPurchaseModalState({\n      isOpen: false,\n      book: null\n    });\n  };\n  const handleConfirmPurchase = (book, paymentMethod) => {\n    if (!purchasedBookIds.includes(book.id)) {\n      setPurchasedBookIds(prevIds => [...prevIds, book.id]);\n      const price = priceToNumber(book.price);\n      if (paymentMethod === 'points') {\n        setUserPoints(prevPoints => prevPoints - price);\n      } else {\n        // card or fonepay\n        const pointsEarned = price * 0.10;\n        setUserPoints(prevPoints => prevPoints + pointsEarned);\n      }\n    }\n    handleClosePurchaseModal();\n  };\n  const handleConfirmGift = (book, recipientEmail, message, paymentMethod) => {\n    const newGift = {\n      id: uuidv4(),\n      bookId: book.id,\n      recipientEmail,\n      message,\n      date: new Date().toISOString()\n    };\n    setGifts(prev => [newGift, ...prev]);\n    const price = priceToNumber(book.price);\n    if (paymentMethod === 'points') {\n      setUserPoints(prevPoints => prevPoints - price);\n    } else {\n      // card or fonepay\n      const pointsEarned = price * 0.10;\n      setUserPoints(prevPoints => prevPoints + pointsEarned);\n    }\n    handleClosePurchaseModal();\n    // In a real app, an email would be sent here.\n    alert(`Successfully gifted \"${book.title}\" to ${recipientEmail}!`);\n  };\n  const handleLogin = () => {\n    setUser(DUMMY_USER);\n  };\n  const handleLogout = () => {\n    setUser(null);\n  };\n  if (selectedBook) {\n    if (selectedBook.isEpub) {\n      return /*#__PURE__*/_jsxDEV(EpubReaderView, {\n        book: selectedBook,\n        onBackToLibrary: handleBackToLibrary\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(ReaderView, {\n      book: selectedBook,\n      onBackToLibrary: handleBackToLibrary\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 12\n    }, this);\n  }\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(LoginView, {\n      onLogin: handleLogin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(LibraryView, {\n      libraryBooks: libraryBooks,\n      storeBooks: storeBooks,\n      allPublisherBooks: currentPublisherData.books,\n      announcements: currentPublisherData.announcements,\n      userPoints: userPoints,\n      onSelectBook: handleSelectBook,\n      onInitiatePurchase: handleInitiatePurchase,\n      onBookUploaded: handleBookUploaded,\n      onLogout: handleLogout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this), purchaseModalState.isOpen && purchaseModalState.book && /*#__PURE__*/_jsxDEV(PurchaseModal, {\n      book: purchaseModalState.book,\n      userPoints: userPoints,\n      onClose: handleClosePurchaseModal,\n      onConfirmPurchase: handleConfirmPurchase,\n      onConfirmGift: handleConfirmGift\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(ThemedApp, \"zkZhWnHQ6oh+GZOcPwRzs9g+lbs=\", false, function () {\n  return [useTheme, useLocalStorage, useLocalStorage, useLocalStorage, useLocalStorage, useLocalStorage];\n});\n_c = ThemedApp;\nconst App = () => /*#__PURE__*/_jsxDEV(ThemeProvider, {\n  children: /*#__PURE__*/_jsxDEV(ThemedApp, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 188,\n  columnNumber: 3\n}, this);\n_c2 = App;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"ThemedApp\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","useMemo","useEffect","v4","uuidv4","PUBLISHER_DATA","LibraryView","ReaderView","EpubReaderView","LoginView","PurchaseModal","ThemeProvider","useTheme","useLocalStorage","priceToNumber","jsxDEV","_jsxDEV","Fragment","_Fragment","DUMMY_USER","name","email","ThemedApp","_s","theme","root","document","documentElement","Object","entries","colors","primary","forEach","key","value","style","setProperty","secondary","currentPublisherData","initialPurchasedBookId","_currentPublisherData","books","find","b","price","id","userBooks","setUserBooks","purchasedBookIds","setPurchasedBookIds","filter","Boolean","userPoints","setUserPoints","gifts","setGifts","pushedNotificationIds","setPushedNotificationIds","selectedBook","setSelectedBook","user","setUser","purchaseModalState","setPurchaseModalState","isOpen","book","libraryBooks","purchasedPublisherBooks","includes","sort","a","title","localeCompare","storeBooks","window","Notification","permission","newPushAnnouncements","announcements","requiresPush","length","firstNewAnnouncement","notification","body","message","icon","tag","onclick","focus","prev","map","handleSelectBook","handleBackToLibrary","handleBookUploaded","newBook","prevBooks","handleInitiatePurchase","handleClosePurchaseModal","handleConfirmPurchase","paymentMethod","prevIds","prevPoints","pointsEarned","handleConfirmGift","recipientEmail","newGift","bookId","date","Date","toISOString","alert","handleLogin","handleLogout","isEpub","onBackToLibrary","fileName","_jsxFileName","lineNumber","columnNumber","onLogin","children","allPublisherBooks","onSelectBook","onInitiatePurchase","onBookUploaded","onLogout","onClose","onConfirmPurchase","onConfirmGift","_c","App","_c2","$RefreshReg$"],"sources":["/Users/jaewoo/Desktop/Ministry/IT Business/Document/E-Book Reader/Lumina Press/src/App.tsx"],"sourcesContent":["import React, { useState, useMemo, useEffect } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Book, Gift, PaymentMethod } from './types';\nimport { PUBLISHER_DATA } from './constants';\nimport LibraryView from './components/LibraryView';\nimport ReaderView from './components/ReaderView';\nimport EpubReaderView from './components/EpubReaderView';\nimport LoginView from './components/LoginView';\nimport PurchaseModal from './components/PurchaseModal';\nimport { ThemeProvider, useTheme } from './contexts/ThemeContext';\nimport useLocalStorage from './hooks/useLocalStorage';\nimport { priceToNumber } from './utils/currency';\n\n// Dummy user object for simulation\nconst DUMMY_USER = { name: 'Alex Doe', email: 'alex.doe@example.com' };\n\nconst ThemedApp: React.FC = () => {\n  const { theme } = useTheme();\n  \n  useEffect(() => {\n    const root = document.documentElement;\n    Object.entries(theme.colors.primary).forEach(([key, value]) => {\n      root.style.setProperty(`--color-primary-${key}`, value);\n    });\n    Object.entries(theme.colors.secondary).forEach(([key, value]) => {\n      root.style.setProperty(`--color-secondary-${key}`, value);\n    });\n  }, [theme]);\n\n  const currentPublisherData = useMemo(() => PUBLISHER_DATA[theme.key], [theme.key]);\n  const initialPurchasedBookId = useMemo(() => currentPublisherData.books.find(b => b.price === '$0.00')?.id, [currentPublisherData]);\n\n\n  const [userBooks, setUserBooks] = useLocalStorage<Book[]>(`user-uploaded-books-${theme.key}`, []);\n  const [purchasedBookIds, setPurchasedBookIds] = useLocalStorage<string[]>(`purchased-book-ids-${theme.key}`, [initialPurchasedBookId].filter(Boolean) as string[]);\n  const [userPoints, setUserPoints] = useLocalStorage<number>('user-points', 2.50); // Global points\n  const [gifts, setGifts] = useLocalStorage<Gift[]>('user-gifts', []); // Global gifts\n  const [pushedNotificationIds, setPushedNotificationIds] = useLocalStorage<string[]>('pushed-notification-ids', []);\n\n\n  const [selectedBook, setSelectedBook] = useState<Book | null>(null);\n  const [user, setUser] = useState<typeof DUMMY_USER | null>(null);\n  const [purchaseModalState, setPurchaseModalState] = useState<{isOpen: boolean; book: Book | null}>({ isOpen: false, book: null });\n\n  const libraryBooks = useMemo(() => {\n    const purchasedPublisherBooks = currentPublisherData.books.filter(book => purchasedBookIds.includes(book.id));\n    return [...userBooks, ...purchasedPublisherBooks].sort((a, b) => a.title.localeCompare(b.title));\n  }, [userBooks, purchasedBookIds, currentPublisherData]);\n\n  const storeBooks = useMemo(() => {\n    return currentPublisherData.books.filter(book => !purchasedBookIds.includes(book.id));\n  }, [purchasedBookIds, currentPublisherData]);\n  \n  useEffect(() => {\n    if (user && 'Notification' in window && Notification.permission === 'granted') {\n      const newPushAnnouncements = currentPublisherData.announcements.filter(a => \n        a.requiresPush && !pushedNotificationIds.includes(a.id)\n      );\n\n      if (newPushAnnouncements.length > 0) {\n        // To avoid being spammy, we'll show one notification on load for the first new announcement\n        // but mark all new ones as \"pushed\".\n        const firstNewAnnouncement = newPushAnnouncements[0];\n        const notification = new Notification(firstNewAnnouncement.title, {\n          body: firstNewAnnouncement.message,\n          icon: 'https://picsum.photos/seed/luminaicon/192/192', // A generic icon for simulation\n          tag: firstNewAnnouncement.id, // Tag prevents duplicate notifications for the same announcement\n        });\n        \n        notification.onclick = () => {\n           window.focus();\n        };\n\n        setPushedNotificationIds(prev => [\n          ...prev, \n          ...newPushAnnouncements.map(a => a.id)\n        ]);\n      }\n    }\n  }, [user, pushedNotificationIds, setPushedNotificationIds, currentPublisherData]);\n\n  const handleSelectBook = (book: Book) => {\n    setSelectedBook(book);\n  };\n\n  const handleBackToLibrary = () => {\n    setSelectedBook(null);\n  };\n\n  const handleBookUploaded = (newBook: Book) => {\n    setUserBooks(prevBooks => [newBook, ...prevBooks]);\n  };\n  \n  const handleInitiatePurchase = (book: Book) => {\n    setPurchaseModalState({ isOpen: true, book });\n  };\n  \n  const handleClosePurchaseModal = () => {\n    setPurchaseModalState({ isOpen: false, book: null });\n  };\n\n  const handleConfirmPurchase = (book: Book, paymentMethod: PaymentMethod) => {\n    if (!purchasedBookIds.includes(book.id)) {\n      setPurchasedBookIds(prevIds => [...prevIds, book.id]);\n      \n      const price = priceToNumber(book.price);\n      if (paymentMethod === 'points') {\n        setUserPoints(prevPoints => prevPoints - price);\n      } else { // card or fonepay\n        const pointsEarned = price * 0.10;\n        setUserPoints(prevPoints => prevPoints + pointsEarned);\n      }\n    }\n    handleClosePurchaseModal();\n  };\n\n  const handleConfirmGift = (book: Book, recipientEmail: string, message: string, paymentMethod: PaymentMethod) => {\n    const newGift: Gift = {\n      id: uuidv4(),\n      bookId: book.id,\n      recipientEmail,\n      message,\n      date: new Date().toISOString(),\n    };\n    setGifts(prev => [newGift, ...prev]);\n\n    const price = priceToNumber(book.price);\n    if (paymentMethod === 'points') {\n      setUserPoints(prevPoints => prevPoints - price);\n    } else { // card or fonepay\n      const pointsEarned = price * 0.10;\n      setUserPoints(prevPoints => prevPoints + pointsEarned);\n    }\n    \n    handleClosePurchaseModal();\n    // In a real app, an email would be sent here.\n    alert(`Successfully gifted \"${book.title}\" to ${recipientEmail}!`);\n  };\n\n\n  const handleLogin = () => {\n    setUser(DUMMY_USER);\n  };\n\n  const handleLogout = () => {\n    setUser(null);\n  }\n  \n  if (selectedBook) {\n    if (selectedBook.isEpub) {\n      return <EpubReaderView book={selectedBook} onBackToLibrary={handleBackToLibrary} />;\n    }\n    return <ReaderView book={selectedBook} onBackToLibrary={handleBackToLibrary} />;\n  }\n  \n  if (!user) {\n    return <LoginView onLogin={handleLogin} />;\n  }\n\n  return (\n    <>\n      <LibraryView \n        libraryBooks={libraryBooks}\n        storeBooks={storeBooks}\n        allPublisherBooks={currentPublisherData.books}\n        announcements={currentPublisherData.announcements}\n        userPoints={userPoints}\n        onSelectBook={handleSelectBook} \n        onInitiatePurchase={handleInitiatePurchase}\n        onBookUploaded={handleBookUploaded}\n        onLogout={handleLogout}\n      />\n      {purchaseModalState.isOpen && purchaseModalState.book && (\n        <PurchaseModal\n          book={purchaseModalState.book}\n          userPoints={userPoints}\n          onClose={handleClosePurchaseModal}\n          onConfirmPurchase={handleConfirmPurchase}\n          onConfirmGift={handleConfirmGift}\n        />\n      )}\n    </>\n  );\n};\n\n\nconst App: React.FC = () => (\n  <ThemeProvider>\n    <ThemedApp />\n  </ThemeProvider>\n);\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}